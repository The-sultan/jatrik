<?xml version="1.0" encoding="UTF-8"?>
<div xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/default.xhtml">
	<h1>Market</h1>
	<h:panelGroup id="compraventa">
		<div id="tabs" class="market-form">
			<ul>
				<li><a href="#compraTab">Compras</a></li>
				<li><a href="#ventaTab">Ventas</a></li>
			</ul>
			<div id="compraTab">
				<h:form id="marketForm">
				<h:panelGroup layout="block" id="updatableCompra" class="resultados">
					<h:dataTable  value="#{marketPlaceController.transferencias}" var="trans"
									  columnClasses="transferenciaMarket" id="tableCompras" class="results-table">
						<h:column>
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{trans.id}" />
						</h:column>
						<h:column>
							<f:facet name="header">Nombre</f:facet>
							<h:outputText value="#{trans.jugador.nombre}" />
						</h:column>
						<h:column>
							<f:facet name="header">Puesto</f:facet>
							<h:outputText value="#{trans.jugador.puesto}" />
						</h:column>
						<h:column>
							<f:facet name="header">Precio</f:facet>
							<h:outputText value="#{trans.precio}" />
						</h:column>
						<h:column>
							<f:facet name="header">Edad</f:facet>
							<h:outputText value="#{trans.jugador.edad}" />
						</h:column>
						<h:column>
							<f:facet name="header">Peso</f:facet>
							<h:outputText value="#{trans.jugador.peso}" />
						</h:column>
						<h:column>
							<f:facet name="header">Altura</f:facet>
							<h:outputText value="#{trans.jugador.altura}" />
						</h:column>
						<h:column>
							<f:facet name="header">Velocidad</f:facet>
							<h:outputText value="#{trans.jugador.habilidades.get(0).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Porteria</f:facet>
							<h:outputText value="#{trans.jugador.habilidades.get(1).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Tecnica</f:facet>
							<h:outputText value="#{trans.jugador.habilidades.get(2).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Defensa</f:facet>
							<h:outputText value="#{trans.jugador.habilidades.get(3).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Ataque</f:facet>
							<h:outputText value="#{trans.jugador.habilidades.get(4).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Comprar?</f:facet>
							<h:selectBooleanCheckbox  id="item_#{trans.id}" value="#{marketPlaceController.selectedPlayersCompra[trans]}" />
						</h:column>
					 </h:dataTable>
					 <p:commandButton styleClass="btn"  action="#{marketPlaceController.compraDeJugadores}" value="Comprar" > 
						 <f:ajax render=":compraventa"></f:ajax>
					 </p:commandButton>
					 
				</h:panelGroup>
				</h:form>
			</div>
			<div id="ventaTab">
				<h:form>
				<h:panelGroup layout="block" id="updatableVenta" class="resultados">
					<h:dataTable  value="#{marketPlaceController.misJugadores}" var="player"
									  columnClasses="transferenciaMarket" id="tableVentas" class="results-table">
						<h:column>
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{player.id}" />
						</h:column>
						<h:column>
							<f:facet name="header">Nombre</f:facet>
							<h:outputText value="#{player.nombre}" />
						</h:column>
						<h:column>
							<f:facet name="header">Puesto</f:facet>
							<h:outputText value="#{player.puesto}" />
						</h:column>
						<h:column>
							<f:facet name="header">Edad</f:facet>
							<h:outputText value="#{player.edad}" />
						</h:column>
						<h:column>
							<f:facet name="header">Peso</f:facet>
							<h:outputText value="#{player.peso}" />
						</h:column>
						<h:column>
							<f:facet name="header">Altura</f:facet>
							<h:outputText value="#{player.altura}" />
						</h:column>
						<h:column>
							<f:facet name="header">Velocidad</f:facet>
							<h:outputText value="#{player.habilidades.get(0).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Porteria</f:facet>
							<h:outputText value="#{player.habilidades.get(1).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Tecnica</f:facet>
							<h:outputText value="#{trans.jugador.habilidades.get(2).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Defensa</f:facet>
							<h:outputText value="#{player.habilidades.get(3).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Ataque</f:facet>
							<h:outputText value="#{player.habilidades.get(4).valor}" />
						</h:column>
						<h:column>
							<f:facet name="header">Precio</f:facet>
							<h:inputText value="#{player.precio}"/>
						</h:column>
						<h:column>
							<f:facet name="header">Vender?</f:facet>
							<h:selectBooleanCheckbox  id="player_#{player.id}" value="#{marketPlaceController.selectedPlayersVenta[player]}" />
						</h:column>

					 </h:dataTable>
					<p:commandButton styleClass="btn"  action="#{marketPlaceController.venderJugadores}" value="Vender"> 
						<f:ajax render=":compraventa"></f:ajax>
					</p:commandButton>
				</h:panelGroup>
				</h:form>
			</div>
			<script type="text/javascript">
				$( "#tabs" ).tabs();
			</script>
		</div>
	</h:panelGroup>
	
</div>
